!function(){"use strict";function u(e){return e.getParam("min_height",e.getElement().offsetHeight,"number")}function g(e,t){e=e.getBody();e&&(e.style.overflowY=t?"":"hidden",t||(e.scrollTop=0))}function c(e,t,n,i){e=parseInt(e.getStyle(t,n,i),10);return isNaN(e)?0:e}function a(e,t,n,i,o){s.setEditorTimeout(e,function(){m(e,t),n--?a(e,t,n,i,o):o&&o()},i)}function m(e,t,n){var i,o,s,r,a=e.dom,l=e.getDoc();l&&(e.plugins.fullscreen&&e.plugins.fullscreen.isFullscreen()?g(e,!0):(l=l.documentElement,s=e.getParam("autoresize_bottom_margin",50,"number"),i=u(e),r=c(a,l,"margin-top",!0),o=c(a,l,"margin-bottom",!0),(l=(l=l.offsetHeight+r+o+s)<0?0:l)+(r=e.getContainer().offsetHeight-e.getContentAreaContainer().offsetHeight)>u(e)&&(i=l+r),(o=e.getParam("max_height",0,"number"))&&o<i?(i=o,g(e,!0)):g(e,!1),i!==t.get()&&(s=i-t.get(),a.setStyle(e.getContainer(),"height",i+"px"),t.set(i),e.fire("ResizeEditor"),f.browser.isSafari()&&f.mac&&(l=e.getWin()).scrollTo(l.pageXOffset,l.pageYOffset),!e.hasFocus()||"setcontent"!==(null==(r=n)?void 0:r.type.toLowerCase())||!0!==r.selection&&!0!==r.paste||e.selection.scrollIntoView(),f.webkit)&&s<0&&m(e,t,n)))}var l=Object.hasOwnProperty,e=tinymce.util.Tools.resolve("tinymce.PluginManager"),f=tinymce.util.Tools.resolve("tinymce.Env"),s=tinymce.util.Tools.resolve("tinymce.util.Delay");e.add("autoresize",function(e){var n,t,i,o,s,r=e.settings;l.call(r,"resize")||(e.settings.resize=!1),e.inline||(s=0,o=r={get:function(){return s},set:function(e){s=e}},(i=e).addCommand("mceAutoResize",function(){m(i,o)}),t=r,(n=e).on("init",function(){var e=n.getParam("autoresize_overflow_padding",1,"number"),t=n.dom;t.setStyles(n.getDoc().documentElement,{height:"auto"}),t.setStyles(n.getBody(),{paddingLeft:e,paddingRight:e,"min-height":0})}),n.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",function(e){m(n,t,e)}),n.getParam("autoresize_on_init",!0,"boolean")&&n.on("init",function(){a(n,t,20,100,function(){a(n,t,5,1e3)})}))})}();