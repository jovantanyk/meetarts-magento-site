!function(){"use strict";function f(e,t,n){e.execCommand("UL"===t?"InsertUnorderedList":"InsertOrderedList",!1,!1===n?null:{"list-style-type":n})}function i(e){return function(){return e}}function e(e){return e}function t(){return m}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),g=tinymce.util.Tools.resolve("tinymce.util.Tools"),u=i(!1),l=i(!0),m={fold:function(e,t){return e()},isSome:u,isNone:l,getOr:e,getOrThunk:r,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:i(null),getOrUndefined:i(void 0),or:e,orThunk:r,map:t,each:function(){},bind:t,exists:u,forall:l,filter:function(){return m},toArray:function(){return[]},toString:i("none()")};function r(e){return e()}function s(e){return e&&/^(TH|TD)$/.test(e.nodeName)}function p(u,l){return function(i){function e(e){var t,n,r,o;i.setActive((t=u,n=l,r=-1!==(r=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}((e=e).parents,s))?e.parents.slice(0,r):e.parents,0<(e=g.grep(r,(o=t,function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)&&(e=e,o.$.contains(o.getBody(),e))}))).length&&e[0].nodeName===n))}return u.on("NodeChange",e),function(){return u.off("NodeChange",e)}}}function o(e,t,n,r,o,i){var u,l,s,c,a,d;1<i.length?(c=r,d=i,(s=e).ui.registry.addSplitButton(t,{tooltip:n,icon:"OL"===(a=o)?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(e){e(g.map(d,function(e){return{type:"choiceitem",value:"default"===e?"":e,icon:"list-"+("OL"===a?"num":"bull")+"-"+("disc"===e||"decimal"===e?"default":e),text:e.replace(/\-/g," ").replace(/\b\w/g,function(e){return e.toUpperCase()})}}))},onAction:function(){return s.execCommand(c)},onItemAction:function(e,t){f(s,a,t)},select:function(t){var e=(n=s).dom.getParent(n.selection.getNode(),"ol,ul"),n=n.dom.getStyle(e,"listStyleType");return(null==(e=n)?m:y(e)).map(function(e){return t===e}).getOr(!1)},onSetup:p(s,a)})):(l=r,(u=e).ui.registry.addToggleButton(t,{active:!1,tooltip:n,icon:"OL"===o?"ordered-list":"unordered-list",onSetup:p(u,o),onAction:function(){return u.execCommand(l)}}))}var y=function(n){function e(){return o}function t(e){return e(n)}var r=i(n),o={fold:function(e,t){return t(n)},isSome:l,isNone:u,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:e,orThunk:e,map:function(e){return y(e(n))},each:function(e){e(n)},bind:t,exists:t,forall:t,filter:function(e){return e(n)?o:m},toArray:function(){return[n]},toString:function(){return"some("+n+")"}};return o};n.add("advlist",function(e){var n,t,r;e.hasPlugin("lists")?(o(t=e,"numlist","Numbered list","InsertOrderedList","OL",(r=t.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman"))?r.split(/[ ,]/):[]),o(t,"bullist","Bullet list","InsertUnorderedList","UL",(r=t.getParam("advlist_bullet_styles","default,circle,square"))?r.split(/[ ,]/):[]),(n=e).addCommand("ApplyUnorderedListStyle",function(e,t){f(n,"UL",t["list-style-type"])}),n.addCommand("ApplyOrderedListStyle",function(e,t){f(n,"OL",t["list-style-type"])})):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}();